; Процедура возвращает в R0 код нажатой клавиши или 0, если не было нажатия
IS_KEY_PRESSED:
        TSTB    @#177660 ; Проверка клавиатуры, есть ли нажатие
        BPL     NO_KEY_PRESSED   

        MOV	@#177662,R0 ; Чтение кода клавиши
        RTS PC

NO_KEY_PRESSED:
	MOV	#0, R0
	RTS PC


; Процедура возвращает в R0 код удерживаемой клавиши или 0, если не было удержания
IS_KEY_HOLDED:

        BIT #100,@#177716 ; Есть ли удержание клавиши
        BNE     NO_KEY_HOLDED   ; Если нет, то надо вернуть нули

        MOV	@#177662,R0 ; Чтение кода клавиши
        RTS PC

NO_KEY_HOLDED:
	MOV 	#0, R0
        RTS PC
